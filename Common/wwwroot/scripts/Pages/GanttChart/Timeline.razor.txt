@page "/gantt-chart/timeline"

@using Syncfusion.Blazor.DropDowns;
@using Syncfusion.Blazor.Gantt
@using Syncfusion.Blazor.Inputs
@using BlazorDemos.Pages.GanttChart.Data

@*Hidden:Lines*@
@inject SampleService SampleService
@implements IDisposable
@*End:Hidden*@

<ActionDescription>
    <p>
		This sample demonstrates the various phases of a software development lifecycle from planning to delivery while demonstrating the flexible timeline customization options available in the <a class="e-gantt-timeline-reference-link" aria-label="Navigate to the explore Syncfusion Blazor Gantt Chart component"
                                                                                                                                                                                                      href="https://www.syncfusion.com/blazor-components/blazor-gantt-chart"
                                                                                                                                                                                                      target="_blank" rel="noopener">Blazor Gantt Chart</a>.
    </p>
    <p>
		The Gantt Chart supports multiple timeline modes, allowing you to adjust the unit, format, and count of both the top and bottom timeline headers. These settings can be configured using the <a class="e-gantt-timeline-reference-link" aria-label="Navigate to the TopTier property reference for gantt timeline settings" target="_blank" rel="noopener" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Gantt.GanttTimelineSettings.html#Syncfusion_Blazor_Gantt_GanttTimelineSettings_TopTier">TimelineSettings.TopTier</a> and
		<a class="e-gantt-timeline-reference-link" aria-label="Navigate to the BottomTier property reference for gantt timeline settings" target="_blank" rel="noopener" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Gantt.GanttTimelineSettings.html#Syncfusion_Blazor_Gantt_GanttTimelineSettings_BottomTier">TimelineSettings.BottomTier</a> properties, enabling precise control over how time intervals are displayed.
    </p>
    <p>
		Additionally, the <a class="e-gantt-timeline-reference-link" aria-label="Navigate to the TimelineViewMode property reference for gantt timeline settings" target="_blank" rel="noopener" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Gantt.GanttTimelineSettings.html#Syncfusion_Blazor_Gantt_GanttTimelineSettings_TimelineViewMode">GanttTimelineSettings.TimelineViewMode</a> property
		allows the chart to visualize different time scales, including minutes, hours, days, weeks, months, and years. This flexibility ensures the chart can adapt to various project scopes and planning needs.
    </p>
    <p>
		<a class="e-gantt-timeline-reference-link" aria-label="Navigate to the documentation for tooltip in gantt chart component" target="_blank" rel="noopener" href="https://blazor.syncfusion.com/documentation/gantt-chart/tooltip">Tooltip</a>
		is enabled by default for timeline headers, providing quick insights when hovering over or tapping on a timeline point especially useful on touch-enabled devices.
    </p>
    <p>
		For further details, refer to the <a class="e-gantt-timeline-reference-link" aria-label="Navigate to the documentation for timeline in gantt chart component" target="_blank" rel="noopener" href="https://blazor.syncfusion.com/documentation/gantt-chart/time-line">documentation</a>.
    </p>
</ActionDescription>

<div class="col-lg-8 control-section e-gantt-timeline-sample">
	<SfGantt @ref="GanttInstance" DataSource="@TaskCollection" Height="450px" Width="100%" TreeColumnIndex="1"
			 ProjectStartDate="@(new DateTime(2021, 04, 02))" ProjectEndDate="@(new DateTime(2021, 08, 21))" ScrollToTaskbarOnClick="true">
		<GanttTaskFields Id="TaskId" Name="TaskName" StartDate="StartDate" EndDate="EndDate" Duration="Duration" Progress="Progress"
						 Dependency="Predecessor" ParentID="ParentId" Notes="Notes">
			<GanttColumns>
				<GanttColumn Field="TaskId" Width="100"></GanttColumn>
				<GanttColumn Field="TaskName" Width="250" ClipMode="Syncfusion.Blazor.Grids.ClipMode.EllipsisWithTooltip"></GanttColumn>
				<GanttColumn Field="StartDate" HeaderText="Start Date" MinWidth="120"></GanttColumn>
				<GanttColumn Field="EndDate" HeaderText="End Date" MinWidth="120"></GanttColumn>
				<GanttColumn Field="Duration" HeaderText="Duration" MinWidth="120"></GanttColumn>
				<GanttColumn Field="Progress" HeaderText="Progress" MinWidth="120"></GanttColumn>
				<GanttColumn Field="Predecessor" HeaderText="Dependency" MinWidth="200"></GanttColumn>
				<GanttColumn Field="Notes" Width="100"></GanttColumn>
			</GanttColumns>
		</GanttTaskFields>
		<GanttLabelSettings LeftLabel="TaskName" TValue="TimelineData.TaskData">
		</GanttLabelSettings>
		<GanttSplitterSettings Position="42%"></GanttSplitterSettings>
		<GanttTimelineSettings TimelineUnitSize="@DefaultUnitWidth">
			<GanttTopTierSettings Unit="@TopTierUnit" Count="@TopTierCount" Format="@TopTierFormat"></GanttTopTierSettings>
			<GanttBottomTierSettings Count="@BottomTierCount" Unit="@BottomTierUnit" Format="@BottomTierFormat"></GanttBottomTierSettings>
		</GanttTimelineSettings>
	</SfGantt>
</div>
<PropertyPanel ControlSecClass="col-lg-8">
	<table id="property" title="Properties" class="property-panel-table">
		<tbody>
			<tr>
				<td style="width: 50%">
					<div class="userselect">Unit width</div>
				</td>
				<td style="width: 50%;padding-right: 10px">
					<div>
						<SfNumericTextBox TValue="int?" Format="n0" Value="@DefaultUnitWidth" Min="10">
							<NumericTextBoxEvents TValue="int?" ValueChange="@(e => { DefaultUnitWidth = e.Value ?? 33; })"></NumericTextBoxEvents>
						</SfNumericTextBox>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div><b>Top tier</b></div></td>
			</tr>
			<tr>
				<td style="width:30%;"><div>Count</div></td>
				<td style="width: 70%">
					<div>
						<SfNumericTextBox Enabled="@EnableTopNumericBox" TValue="int?" Format="n0" Value="@TopTierCount" Min="1" Max="50">
							<NumericTextBoxEvents TValue="int?" ValueChange="@(e => { TopTierCount = e.Value ?? 1; })"></NumericTextBoxEvents>
						</SfNumericTextBox>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div>Unit</div></td>
				<td style="width: 70%">
					<div>
						<SfDropDownList Enabled="@EnableTopUnitDropDown" TValue="string" TItem="TimelineUnit" Placeholder="Week" DataSource="@TimelineUnits">
							<DropDownListFieldSettings Text="Unit" Value="Id"></DropDownListFieldSettings>
							<DropDownListEvents TValue="string" TItem="TimelineUnit" ValueChange="@TopUnitChange"></DropDownListEvents>
						</SfDropDownList>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div>Format</div></td>
				<td style="width: 70%">
					<div>
						<SfDropDownList Enabled="@EnableTopFormatDropDown" TValue="string" TItem="DayFormat" DataSource="@WeekFormatValue" Value="@TopTierFormat" Placeholder="Jan 01,2021">
							<DropDownListFieldSettings Text="Format" Value="Id"></DropDownListFieldSettings>
							<DropDownListEvents TValue="string" TItem="DayFormat" ValueChange="@TopFormatChange"></DropDownListEvents>
						</SfDropDownList>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div><b>Bottom tier</b></div></td>

			</tr>
			<tr>
				<td style="width:30%;"><div>Count</div></td>
				<td style="width: 70%">
					<div>
						<SfNumericTextBox Enabled="@EnableBottomNumericBox" TValue="int?" Format="n0" Value="@BottomTierCount" Min="1" Max="50">
							<NumericTextBoxEvents TValue="int?" ValueChange="@(e => { BottomTierCount = e.Value ?? 1; })"></NumericTextBoxEvents>
						</SfNumericTextBox>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div>Unit</div></td>
				<td style="width: 70%">
					<div>
						<SfDropDownList Enabled="@EnableBottomUnitDropDown" TValue="string" TItem="TimelineUnit" Placeholder="Day" DataSource="@TimelineUnits">
							<DropDownListFieldSettings Text="Unit" Value="Id"></DropDownListFieldSettings>
							<DropDownListEvents TValue="string" TItem="TimelineUnit" ValueChange="@BottomUnitChange"></DropDownListEvents>
						</SfDropDownList>
					</div>
				</td>
			</tr>
			<tr>
				<td style="width:30%;"><div>Format</div></td>
				<td style="width: 70%">
					<div>
						<SfDropDownList Enabled="@EnableBottomFormatDropDown" TValue="string" TItem="DayFormat" DataSource="@DayFormatValue" @bind-Value="@BottomTierFormat" Placeholder="M">
							<DropDownListFieldSettings Text="Format" Value="Id"></DropDownListFieldSettings>
							<DropDownListEvents TValue="string" TItem="DayFormat" ValueChange="@BottomFormatChange"></DropDownListEvents>
						</SfDropDownList>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</PropertyPanel>
@code{
	/// <summary>
	/// Initializes the sample by loading timeline task data.
	/// </summary>
	protected override void OnInitialized()
	{
		TaskCollection = TimelineData.TimelineRecord();
		@*Hidden:Lines*@
		SampleService.TouchMousePreferenceChanged += OnTouchMousePreferenceChanged;
		@*End:Hidden*@
	}
	@*Hidden:Lines*@
	private async void OnTouchMousePreferenceChanged()
	{
		await GanttInstance.RefreshAsync();
		await GanttInstance.CallStateHasChangedAsync();
	}

	public void Dispose()
	{
		SampleService.TouchMousePreferenceChanged -= OnTouchMousePreferenceChanged;
	}
	@*End:Hidden*@
}
<style>
	.container-fluid {
		padding: 0px !important;
	}

	.e-gantt-timeline-sample {
		padding: 20px;
	}

		.e-gantt-timeline-sample .userselect {
			-webkit-user-select: none;
			/* Safari 3.1+ */
			-moz-user-select: none;
			/* Firefox 2+ */
			-ms-user-select: none;
			/* IE 10+ */
			user-select: none;
			/* Standard syntax */
		}

	.e-gantt-timeline-reference-link {
		text-decoration: none !important;
	}

		.e-gantt-timeline-reference-link:hover,
		.e-gantt-timeline-reference-link:focus {
			text-decoration: underline !important;
		}
</style>