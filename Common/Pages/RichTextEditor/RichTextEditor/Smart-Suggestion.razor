@page "/rich-text-editor/smart-suggestion"

@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.RichTextEditor
@using Syncfusion.Blazor.DropDowns

@*Hidden:Lines*@
@inherits SampleBaseComponent
@*End:Hidden*@

<ActionDescription>
<p>
    This sample demonstrates the <code>SlashMenu</code> feature of the Rich Text Editor, which allows you to apply formatting options, insert media, and add tables using the Mention component. Type the slash (/) key inside the editor to view a contextual suggestion list and easily apply the desired action.
  </p>
  <p>
    The <code>SlashMenu</code> feature allows users to apply formatting such as headings, lists, quotes, open insert dialogs, and execute custom commands within the editor. The slash menu is triggered by typing the "/" character.
  </p>
  <p>
    In this example, the slash menu is enabled by setting the <a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.RichTextEditorSlashMenuSettings.html#Syncfusion_Blazor_RichTextEditor_RichTextEditorSlashMenuSettings_Enable" aria-label="Class reference of Enable property in Rich Text Editor">Enable</a> property within <a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.RichTextEditorSlashMenuSettings.html" aria-label="Class reference of RichTextEditorSlashMenuSettings">RichTextEditorSlashMenuSettings</a> to <code>true</code>. This example includes two <strong>Custom Slash Menu Items</strong> that allow easy insertion of meeting notes and signatures into the content.
  </p>
  <p>
    The slash menu is configured with the following properties:
  </p>
  <ul>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.RichTextEditorSlashMenuSettings.html#Syncfusion_Blazor_RichTextEditor_RichTextEditorSlashMenuSettings_Enable" aria-label="Class reference of Enable property in Rich Text Editor">Enable</a> - Enables or disables the slash menu in the editor. Default value is <code>false</code>.</li>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.RichTextEditorSlashMenuSettings.html#Syncfusion_Blazor_RichTextEditor_RichTextEditorSlashMenuSettings_Items" aria-label="Class reference of Items property in Rich Text Editor">Items</a> - Defines the items displayed in the slash menu popup. Custom items can be added, and their actions can be handled using the <a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.RichTextEditorSlashMenuSettings.html#Syncfusion_Blazor_RichTextEditor_RichTextEditorSlashMenuSettings_SlashMenuItemModel" aria-label="Class reference of SlashMenuItemSelected">SlashMenuItemSelected</a> event.</li>
  </ul>
  <p>
    <strong>Adding Custom Slash Menu Items:</strong>
  </p>
  <p>
    Custom items can be added to the slash menu by defining the <code>Items</code> child property. Each item object can include:
  </p>
  <ul>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.SlashMenuItemModel.html#Syncfusion_Blazor_RichTextEditor_SlashMenuItemModel_Text" aria-label="Class reference of Text property in Rich Text Editor">Text</a> - Sets the displayed text for the slash menu item.</li>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.SlashMenuItemModel.html#Syncfusion_Blazor_RichTextEditor_SlashMenuItemModel_Command" aria-label="Class reference of Command property in Rich Text Editor">Command</a> - Specifies the action to execute when the slash menu item is clicked.</li>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.SlashMenuItemModel.html#Syncfusion_Blazor_RichTextEditor_SlashMenuItemModel_GroupBy" aria-label="Class reference of GroupBy property in Rich Text Editor">Type</a> - Groups related items within the slash menu.</li>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.SlashMenuItemModel.html#Syncfusion_Blazor_RichTextEditor_SlashMenuItemModel_IconCss" aria-label="Class reference of IconCss property in Rich Text Editor">IconCss</a> - Sets the CSS class for the associated item icon.</li>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.RichTextEditor.SlashMenuItemModel.html#Syncfusion_Blazor_RichTextEditor_SlashMenuItemModel_Description" aria-label="Class reference of Description property in Rich Text Editor">Description</a> - Provides a description for the slash menu item.</li>
  </ul>
</ActionDescription>

<div class="control-section" id="slashmenuEditor">
    <SfRichTextEditor @ref="richTextEditorObj" Placeholder="@editorPlaceholder">
        <RichTextEditorToolbarSettings Items="@tools" />
        <RichTextEditorEvents SlashMenuItemSelecting = "OnSlashMenuItemSelect" />
        <RichTextEditorSlashMenuSettings Enable="true" Items="@slashmenuItems" />
    </SfRichTextEditor>
</div>
@code
{
    private SfRichTextEditor? richTextEditorObj;
    private string editorPlaceholder = "Type \"/\" and choose format";
    private string meetingNotes = @"<p><strong>Meeting Notes</strong></p><table class=""e-rte-table"" style=""width: 100%; min-width: 0px; height: 150px;""> <tbody> <tr style=""height: 20%;""> <td style=""width: 50%;""><strong>Attendees</strong></td> <td style=""width: 50%;""><br></td> </tr> <tr style=""height: 20%;""> <td style=""width: 50%;""><strong>Date &amp; Time</strong></td> <td style=""width: 50%;""><br></td> </tr> <tr style=""height: 20%;""> <td style=""width: 50%;""><strong>Agenda</strong></td> <td style=""width: 50%;""><br></td> </tr> <tr style=""height: 20%;""> <td style=""width: 50%;""><strong>Discussed Items</strong></td> <td style=""width: 50%;""><br></td> </tr> <tr style=""height: 20%;""> <td style=""width: 50%;""><strong>Action Items</strong></td> <td style=""width: 50%;""><br></td> </tr> </tbody> </table>";
    private string signature = "<p><br></p><p>Warm regards,</p><p>John Doe<br>Event Coordinator<br>ABC Company</p>";
    private List<ToolbarItemModel> tools = new List<ToolbarItemModel> ()
    {
        new ToolbarItemModel() { Command = ToolbarCommand.Bold },
        new ToolbarItemModel() { Command = ToolbarCommand.Italic },
        new ToolbarItemModel() { Command = ToolbarCommand.Underline },
        new ToolbarItemModel() { Command = ToolbarCommand.StrikeThrough },
        new ToolbarItemModel() { Command = ToolbarCommand.SuperScript },
        new ToolbarItemModel() { Command = ToolbarCommand.SubScript },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.FontName },
        new ToolbarItemModel() { Command = ToolbarCommand.FontSize },
        new ToolbarItemModel() { Command = ToolbarCommand.FontColor },
        new ToolbarItemModel() { Command = ToolbarCommand.BackgroundColor },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.LowerCase },
        new ToolbarItemModel() { Command = ToolbarCommand.UpperCase },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.Formats },
        new ToolbarItemModel() { Command = ToolbarCommand.Alignments },
        new ToolbarItemModel() { Command = ToolbarCommand.Blockquote },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.NumberFormatList },
        new ToolbarItemModel() { Command = ToolbarCommand.BulletFormatList },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.Outdent },
        new ToolbarItemModel() { Command = ToolbarCommand.Indent },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.CreateLink },
        new ToolbarItemModel() { Command = ToolbarCommand.Image },
        new ToolbarItemModel() { Command = ToolbarCommand.Video },
        new ToolbarItemModel() { Command = ToolbarCommand.Audio },
        new ToolbarItemModel() { Command = ToolbarCommand.CreateTable },
        new ToolbarItemModel() { Command = ToolbarCommand.CodeBlock },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.ClearFormat },
        new ToolbarItemModel() { Command = ToolbarCommand.SourceCode },
        new ToolbarItemModel() { Command = ToolbarCommand.Separator },
        new ToolbarItemModel() { Command = ToolbarCommand.Undo },
        new ToolbarItemModel() { Command = ToolbarCommand.Redo }
    };
    private List<SlashMenuItemModel> slashmenuItems = new List<SlashMenuItemModel> ()
    {
        new SlashMenuItemModel() {Command = SlashMenuCommand.Paragraph},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Heading1},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Heading2},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Heading3},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Heading4},
        new SlashMenuItemModel() {Command = SlashMenuCommand.OrderedList},
        new SlashMenuItemModel() {Command = SlashMenuCommand.UnorderedList},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Checklist},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Blockquote},
        new SlashMenuItemModel() {Command = SlashMenuCommand.CodeBlock},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Image},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Audio},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Video},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Link},
        new SlashMenuItemModel() {Command = SlashMenuCommand.Table},
        new SlashMenuItemModel() { Text="Meeting Notes", GroupBy = "Custom" , IconCss = "e-icons e-description", Description= "Insert a meeting note template." },
        new SlashMenuItemModel() { Text="Signature", GroupBy= "Custom" , IconCss = "e-icons e-signature", Description= "Insert a signature template." }
    };
    public async Task OnSlashMenuItemSelect ( SlashMenuSelectEventArgs args )
    {
        if (richTextEditorObj != null)
        {
            if (args.ItemData.Text == "Meeting Notes")
            {
                await richTextEditorObj.ExecuteCommandAsync (CommandName.InsertHTML, meetingNotes);
            }
            else if (args.ItemData.Text == "Signature")
            {
                await richTextEditorObj.ExecuteCommandAsync (CommandName.InsertHTML, signature);
            }
        }
    }
}