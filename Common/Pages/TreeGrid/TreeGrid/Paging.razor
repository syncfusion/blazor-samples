@page "/tree-grid/paging"
@using Syncfusion.Blazor.TreeGrid
@using Syncfusion.Blazor.Grids
@*Hidden:Lines*@
@using TreeShipmentdata
@inherits SampleBaseComponent;
@*End:Hidden*@
<ActionDescription>
<p>
    This sample demonstrates paging, enabling segmented navigation of hierarchical records with numeric pager items and adjustable page sizes.
  </p>
  <p>
    Enable paging by setting <a target="_blank" rel="noopener" aria-label="Navigate to the AllowPaging property reference for tree grid component" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.TreeGrid.SfTreeGrid-1.html#Syncfusion_Blazor_TreeGrid_SfTreeGrid_1_AllowPaging">AllowPaging</a> to <strong>true</strong>. This demo sets <code>PageCount</code> to <strong>5</strong>, <code>PageSize</code> to <strong>2</strong>, and provides a page-size dropdown via <a target="_blank" rel="noopener" aria-label="Navigate to the PageSizes property reference for tree grid page settings" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.TreeGrid.TreeGridPageSettings.html#Syncfusion_Blazor_TreeGrid_TreeGridPageSettings_PageSizes">PageSizes</a>. Paging operates at the root level with <a target="_blank" rel="noopener" aria-label="Navigate to the PageSizeMode property reference for tree grid page settings" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.TreeGrid.TreeGridPageSettings.html#Syncfusion_Blazor_TreeGrid_TreeGridPageSettings_PageSizeMode">PageSizeMode</a> = <strong>Root</strong>.
  </p>
  <p>
    Learn more in the <a target="_blank" rel="noopener" href="https://blazor.syncfusion.com/documentation/treegrid/paging">paging documentation</a>.
  </p>
</ActionDescription>


<div class="col-lg-12 control-section">
    <div class="content-wrapper">
        <div class="row">
            <SfTreeGrid DataSource="@TreeGridData"
                        IdMapping="ID"
                        ParentIdMapping="ParentID"
                        Height="312"
                        AllowSorting="true"
                        AllowMultiSorting="true"
                        TreeColumnIndex="1"
                        AllowPaging="true">
                <TreeGridPageSettings PageSizes="@PageSizes" PageCount="5" PageSize="2"></TreeGridPageSettings>
                <TreeGridEditSettings AllowEditing="true"></TreeGridEditSettings>
                <TreeGridColumns>
                    <TreeGridColumn Field="ShipID" HeaderText="Ship ID" Width="80" Visible="false" IsPrimaryKey="true" TextAlign="TextAlign.Right"></TreeGridColumn>
                    <TreeGridColumn Field="Name" ClipMode="ClipMode.EllipsisWithTooltip" HeaderText="Orders" Width="100"></TreeGridColumn>
                    <TreeGridColumn Field="ShipmentCategory" HeaderText="Category" Width="100"></TreeGridColumn>
                    <TreeGridColumn Field="OrderDate" HeaderText="Ordered Date" ClipMode="ClipMode.EllipsisWithTooltip" Format="d" Type="ColumnType.Date" Width="120" TextAlign="TextAlign.Right"></TreeGridColumn>
                    <TreeGridColumn Field="ShippedDate" HeaderText="Shipped Date" ClipMode="ClipMode.EllipsisWithTooltip" Format="d" Type="ColumnType.Date" Width="120" TextAlign="TextAlign.Right"></TreeGridColumn>
                    <TreeGridColumn Field="OrderReached" HeaderText="Order Reached" ClipMode="ClipMode.EllipsisWithTooltip" Width="110" >
                        <Template>
                            @{
                                var item = context as ShipmentData;
                                var badgeClass = item?.OrderReached == "Yes"
                                ? "badge bg-success"
                                : "badge bg-danger";
                            }
                            <span class="@badgeClass">@item?.OrderReached</span>
                        </Template>
                    </TreeGridColumn>
                    <TreeGridColumn Field="Units" HeaderText="Units" Width="80" TextAlign="TextAlign.Right" ></TreeGridColumn>
                    <TreeGridColumn Field="UnitPrice" ClipMode="ClipMode.EllipsisWithTooltip" HeaderText="Unit Price" Format="c2" Width="90" TextAlign="TextAlign.Right"></TreeGridColumn>
                </TreeGridColumns>
            </SfTreeGrid>
        </div>
    </div>
</div>

<style>
    .e-pagerconstant .e-constant {
        font-size: 0;
    }

        .e-pagerconstant .e-constant::after {
            content: "Orders per page";
            font-size: 14px;
            color: inherit;
        }

    .badge {
        padding: 0.35em 0.65em;
        font-size: 0.75em;
        font-weight: 700;
        border-radius: 0.375rem;
        display: inline-block;
        line-height: 1;
    }

    .bg-success {
        background-color: #198754 !important;
        color: #fff !important;
    }

    .bg-danger {
        background-color: #dc3545 !important;
        color: #fff !important;
    }
</style>

@code {
    private List<ShipmentData> TreeGridData { get; set; } = new List<ShipmentData>();
    private List<string> PageSizes { get; set; } = new List<string>();

    protected override void OnInitialized()
    {
        TreeGridData = ShipmentData.GetData();
        PageSizes = new List<string>() { "2", "4", "5", "10", "15", "20", "All" };
    }
}