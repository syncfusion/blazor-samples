@page "/tree-grid/search"

@using Syncfusion.Blazor.TreeGrid
@using Syncfusion.Blazor.Grids
@*Hidden:Lines*@
@using EmployeeData
@inherits SampleBaseComponent;
@*End:Hidden*@

<SampleDescription>
    <p>
        This sample demonstrates the search functionality in Tree Grid. Records can be filtered by entering a keyword into the search box in the toolbar.
    </p>
</SampleDescription>

<ActionDescription>
    <p>
        Tree Grid supports searching records interactively using the search box in the toolbar. When a keyword is entered, the Tree Grid filters and displays matching records based on the configured hierarchy mode.
    </p>
    <p>
        The search behavior can be customized using the <a target="_blank" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.TreeGrid.TreeGridSearchSettings.html#Syncfusion_Blazor_TreeGrid_TreeGridSearchSettings_HierarchyMode">HierarchyMode</a> property of <code>TreeGridSearchSettings</code>, which determines how parent and child records are displayed in the search results:
    </p>
    <ul>
        <li><code>Parent</code> - This is the default search hierarchy mode in Tree Grid. The searched records appear alongside their parent records. If none of the searched records have a parent record, only the searched record itself is displayed.</li>
        <li><code>Child</code> - The searched records are shown alongside their child records. If the searched records have no child records, only the searched records are displayed.</li>
        <li><code>Both</code> - The searched records are shown alongside their parent and child records. If there are no parent or child records in the searched records, only the searched records will be displayed.</li>
        <li><code>None</code> - Only the actual searched records are displayed.</li>
    </ul>

    <p>
        In this demo, the <code>Parent</code> hierarchy mode is enabled by default. When you type a keyword into the search box in the toolbar, Tree Grid filters the records and displays matches along with their parent rows.
    </p>

    <p>
        More information about searching in Tree Grid can be found in this 
        <a target="_blank" href="https://blazor.syncfusion.com/documentation/treegrid/searching">documentation</a> section.
    </p>
</ActionDescription>



<div class="col-lg-12 control-section">
    <div class="content-wrapper">
        <div class="row">

            <SfTreeGrid DataSource="TreeData" IdMapping="EmployeeID" ParentIdMapping="ParentId" TreeColumnIndex="1" Height="312" Toolbar="@(new List<string>() { "Search" })">
                <TreeGridPageSettings PageSize="2"></TreeGridPageSettings>
                <TreeGridColumns>
                    <TreeGridColumn Field="EmpID" HeaderText="Employee ID" Width="150" TextAlign="TextAlign.Right"></TreeGridColumn>
                    <TreeGridColumn Field="FullName" HeaderText="Full Name" Width="245"></TreeGridColumn>
                    <TreeGridColumn Field="Designation" HeaderText="Designation" Width="200"></TreeGridColumn>
                    <TreeGridColumn Field="JoinedDate" HeaderText="Joined Date" Width="160" Format="dd/MM/yyyy" Type="ColumnType.Date" TextAlign="TextAlign.Right"></TreeGridColumn>
                    <TreeGridColumn Field="Country" HeaderText="Country" Width="160"></TreeGridColumn>
                    <TreeGridColumn Field="Availability" HeaderText="Availability" Width="140"></TreeGridColumn>
                    <TreeGridColumn Field="Email" HeaderText="Email" Width="240">
                        <Template>
                            @{
                                var e = (context as EmployeeData)!;
                            }
                            <a href="mailto:@e.Email" class="link" onclick="event.preventDefault();">@e.Email</a>
                        </Template>
                    </TreeGridColumn>
                </TreeGridColumns>
            </SfTreeGrid>
        </div>
    </div>
</div>

@code{

    private List<EmployeeData> TreeData { get; set; } = new List<EmployeeData>();
    
    protected override void OnInitialized()
    {
        TreeData = EmployeeData.GetTemplateData().Take(110).ToList();
    }
}
