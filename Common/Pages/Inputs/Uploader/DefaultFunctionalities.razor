@page "/File-Upload/Default-Functionalities"

@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Buttons

@*Hidden:Lines*@
@inherits SampleBaseComponent
@*End:Hidden*@

<ActionDescription>
<p>This <a target="_blank" rel="noopener" href="https://www.syncfusion.com/blazor-components/blazor-file-upload/" aria-label="Feature Tour of Blazor File Upload">Blazor File Upload</a> demonstrates the default functionalities of the component. Browse the files you want to upload to the server. The selected files will be submitted to the server on clicking the upload button. Clicking the clear button removes the selected and uploaded files from the list.</p>
    
    <p>The File Upload component is useful for uploading images, documents, and other files. By default, the component allows you to upload multiple files by browsing and uploading them to the server. The selected files are appended to the file list, which contains file details such as name, type, and size.</p>
    
    <p>You can manage the files on the server after receiving the uploaded files. When files are successfully uploaded to the server, the remove button changes to a bin button. Uploaded files can be removed by clicking the bin button.</p>
    
    <p>The progress bar displays for each file upload to denote its upload progress. Once a file upload completes successfully, the progress bar disappears and the corresponding upload status message is displayed in its place.</p>
    
    <p><b>See also</b></p>
    <ul>
        <li><a href="https://blazor.syncfusion.com/documentation/file-upload/getting-started/" target="_blank" rel="noopener" aria-label="Blazor File Upload Getting Started documentation">Getting started with Blazor File Upload</a></li>
    </ul>
</ActionDescription>


<div class="col-lg-12">
    <div class="col-lg-8 control-section sb-property-border">
        <div class="control-wrapper">
            <SfUploader @ref="UploadObj" AutoUpload="SetAutoUpload" SequentialUpload="SetSequentialUpload">
                <UploaderEvents OnRemove="OnFileRemove"></UploaderEvents>
                <UploaderAsyncSettings SaveUrl="https://blazor.syncfusion.com/services/production/api/FileUploader/Save" RemoveUrl="https://blazor.syncfusion.com/services/production/api/FileUploader/Remove"></UploaderAsyncSettings>
            </SfUploader>
        </div>
    </div>
    <div class="col-lg-4">
        <div class='property-panel-section'>
            <div class="property-panel-header">Properties</div>
            <div class="property-panel-content">
                <SfCheckBox Label="Auto upload" ValueChange="OnAutoChange" TChecked="bool"></SfCheckBox>
            </div>
            <div class="property-panel-content">
                <SfCheckBox Label="Sequential upload" ValueChange="OnSequentialChange" TChecked="bool"></SfCheckBox>
            </div>
        </div>
    </div>
</div>

<style>
    .control-section {
    min-height: 370px;
    }
    .control-wrapper {
    max-width: 350px;
    margin: 0 auto;
    padding: 50px 0px 0px;
    }

    .property-panel-content {
    padding: 0px 0px 20px 0px;
    }

    .property-panel-content:last-child {
    padding: 0px 0px 40px 0px;
    }
</style>

@code {
    private SfUploader? UploadObj;
    private bool SetAutoUpload { get; set; } = false;
    private bool SetSequentialUpload { get; set; } = false;

    public void OnFileRemove(RemovingEventArgs args)
    {
        args.PostRawFile = false;
    }
    public void OnAutoChange(Syncfusion.Blazor.Buttons.ChangeEventArgs<bool> args)
    {
        if (this.UploadObj != null)
        {
            this.UploadObj.ClearAllAsync();          
        }
        this.SetAutoUpload = args.Checked;
    }
    public void OnSequentialChange(Syncfusion.Blazor.Buttons.ChangeEventArgs<bool> args)
    {
        if (this.UploadObj != null)
        {
            this.UploadObj.ClearAllAsync();          
        }
        this.SetSequentialUpload = args.Checked;
    }
}