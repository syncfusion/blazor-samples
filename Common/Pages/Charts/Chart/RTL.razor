@page "/chart/rtl"

@using Syncfusion.Blazor
@*Hidden:Lines*@
@using ThemeHelper
@*End:Hidden*@
@using Syncfusion.Blazor.Charts

@inject NavigationManager NavigationManager
@*Hidden:Lines*@
@inherits SampleBaseComponent


@*End:Hidden*@

<ActionDescription>
<p>This sample visualizes a company's performance with a default column chart rendered right-to-left (RTL). Data point values are displayed in a tooltip, and the legend provides information about the series.</p>

<p><strong>Right-to-left (RTL)</strong> rendering supports right-to-left language and layout conventions. Enable RTL by setting the <code>EnableRtl</code> property to <strong>true</strong>. In this demo, you can observe how the following elements are aligned from right to left:</p>
<ul>
  <li>Chart axes and labels</li>
  <li>Data points and markers</li>
  <li>Tooltip displays</li>
  <li>Legend positioning and text</li>
</ul>

<p><code>Tooltip</code> is enabled in this example. To see tooltip information, hover over or tap on a data point on touch-enabled devices.</p>
</ActionDescription>


<div class="control-section" align='center'>
    <SfChart Title="Company Performance" Width="@Width" Theme="@Theme" EnableRtl="true">
        <ChartTitleStyle TextOverflow="TextOverflow.Wrap"></ChartTitleStyle>
        <ChartEvents OnAxisLabelRender="LabelRender"></ChartEvents>
        <ChartArea>
            <ChartAreaBorder Width="0"></ChartAreaBorder>
        </ChartArea>
        <ChartMargin Bottom="12"></ChartMargin>
        <ChartPrimaryXAxis Minimum="2015" Maximum="2020" Interval="1">
            <ChartAxisMajorGridLines Width="0"></ChartAxisMajorGridLines>
        </ChartPrimaryXAxis>
        <ChartPrimaryYAxis Minimum="0" Maximum="1200" Interval="200" LabelFormat="{value}B">
            <ChartAxisLineStyle Width="0"></ChartAxisLineStyle>
            <ChartAxisMajorTickLines Width="0"></ChartAxisMajorTickLines>
        </ChartPrimaryYAxis>
        <ChartTooltipSettings Enable="true" EnableHighlight="true"></ChartTooltipSettings>
        <ChartSeriesCollection>
            <ChartSeries DataSource="@ChartPoints" XName="Year" YName="Sales" Name="Sales" Width="2" ColumnSpacing="0.1" Type="ChartSeriesType.Column">
                <ChartCornerRadius TopLeft="4" TopRight="4"></ChartCornerRadius>
            </ChartSeries>
            <ChartSeries DataSource="@ChartPoints" XName="Year" YName="Expense" Name="Expense" Width="2" ColumnSpacing="0.1" Type="ChartSeriesType.Column">
                <ChartCornerRadius TopLeft="4" TopRight="4"></ChartCornerRadius>
            </ChartSeries>
            <ChartSeries DataSource="@ChartPoints" XName="Year" YName="Profit" Name="Profit" Width="2" ColumnSpacing="0.1" Type="ChartSeriesType.Column">
                <ChartCornerRadius TopLeft="4" TopRight="4"></ChartCornerRadius>
            </ChartSeries>
        </ChartSeriesCollection>
        <ChartLegendSettings EnableHighlight="true"></ChartLegendSettings>
    </SfChart>
</div>

@code{

    
    private Theme Theme { get; set; }
    public string Width { get; set; } = "90%";
    public class DoubleData
    {
        public double Year { get; set; }
        public double Sales { get; set; }
        public double Expense { get; set; }
        public double Profit { get; set; }
    }
    public List<DoubleData> ChartPoints { get; set; } = new List<DoubleData>
    {
        new DoubleData { Year = 2016, Sales = 1000, Expense = 400, Profit = 600},
        new DoubleData { Year = 2017, Sales = 970, Expense = 360, Profit = 610},
        new DoubleData { Year = 2018, Sales = 1060, Expense = 920, Profit = 140},
        new DoubleData { Year = 2019, Sales = 1030, Expense = 540, Profit = 490},
    };

    protected override void OnInitialized()
    {
        
        Theme = ThemeHelper.GetCurrentTheme(NavigationManager.Uri);
        @*Hidden:Lines*@
        if (SampleService != null && SampleService.IsDevice)
        {
            Width = "100%";
        }
        @*End:Hidden*@
    }

    private void LabelRender(AxisLabelRenderEventArgs args)
    {
        if (args.Axis.Name == "PrimaryXAxis")
        {
            args.Cancel = args.Value == 2015 || args.Value == 2020;
        }
    }
}
