@page "/menu-bar/api"

@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.Buttons
@*Hidden:Lines*@
@inherits SampleBaseComponent
@*End:Hidden*@

<ActionDescription>
<p>This sample demonstrates MenuBar component customization using properties from the property pane. Select any combination of properties to customize the Menu component appearance and behavior.</p>
    
    <p>The <code><a target="_blank" rel="noopener" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Navigations.SfMenu-1.html" aria-label="Menu">Menu</a></code> component is rendered with minimal default configuration and can be further customized through the property panel.</p>
    
    <p>Customization examples include:</p>
    
    <ul>
        <li>Switch between <b>Vertical</b> and <b>Horizontal</b> orientation modes via the <a target="_blank" rel="noopener" href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Navigations.SfMenu-1.html#Syncfusion_Blazor_Navigations_SfMenu_1_Orientation" aria-label="Orientation">Orientation</a> dropdown</li>
        <li>Enable or disable specific menu items from the dropdown list</li>
        <li>Enable <b>ShowItemOnClick</b> property for mouse click-based menu display</li>
    </ul>
    
    <p>For comprehensive MenuBar documentation, refer to the <a target="_blank" rel="noopener" href="https://blazor.syncfusion.com/documentation/menu-bar/getting-started/" aria-label="documentation section">getting started guide</a>.</p>
</ActionDescription>


<div class="control-section">
    <div class="col-lg-7 control-section">
        <div class="menu-control">
            <SfMenu @ref="menu" TValue="MenuItem" Orientation="@mode" ShowItemOnClick="@menuItemClick">
                <MenuItems>
                    @foreach(var item in menuItems)
                    {
                        <MenuItem Text="@item.Text" Disabled="@item.IsDisabled">
                            @if(item.SubItems != null)
                            {
                                <MenuItems>
                                    @foreach(var subItem in item.SubItems)
                                    {
                                        <MenuItem Text="@subItem.Text"></MenuItem>
                                    }
                                </MenuItems>
                            }
                        </MenuItem>
                    }
                </MenuItems>                
            </SfMenu>
        </div>
    </div>
    <div class="col-lg-5 property-section">
        <table id="property" title="Properties" style="width: 100%">
            <tbody>
                <tr>
                    <td style="width: 50%;padding-top:10px">
                        <div>Orientation</div>
                    </td>
                    <td style="width: 50%;padding-top:10px">
                        <div style="max-width: 200px">
                            <SfDropDownList DataSource="@dropDownListData" PopupHeight="200px" @bind-Value="horizontal" TValue="string" TItem="DataModel">
                                <DropDownListEvents TValue="string" TItem="DataModel" ValueChange="@change"></DropDownListEvents>
                                <DropDownListFieldSettings Value="Text" Text="Text"></DropDownListFieldSettings>
                            </SfDropDownList>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="width: 50%;padding-top:10px">
                        <div>Enable / Disable item</div>
                    </td>
                    <td style="width: 50%;padding-top:10px">
                        <div style="max-width: 200px">
                            <SfMultiSelect DataSource="@headerData" PopupHeight="200px" Width="160px" Mode="Syncfusion.Blazor.DropDowns.VisualMode.CheckBox" ShowDropDownIcon="true" TValue="string[]" TItem="DataModel">
                                <MultiSelectFieldSettings Value="Text" Text="Text"></MultiSelectFieldSettings>
                                <MultiSelectEvents ValueChange="enableDisableChange" TValue="string[]" TItem="DataModel"></MultiSelectEvents>
                            </SfMultiSelect>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td style="width: 50%;padding-top:15px">
                        <div>Show Item on Click</div>
                    </td>
                    <td style="width: 50%;padding-top:15px">
                        <SfCheckBox ValueChange="@checkboxChange" @bind-Checked="showButtonChange" TChecked="bool"> </SfCheckBox>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@code {
    private SfMenu<MenuItem>? menu;
    private List<string> items = new List<string>() { "Events", "Movies", "Directory", "Queries", "Services" };
    private string horizontal = "Horizontal";
    private Orientation mode = Orientation.Horizontal;
    private bool menuItemClick;
    private bool showButtonChange;
    private List<DataModel> menuItems = new List<DataModel>();


    protected override Task OnInitializedAsync()
    {
        menuItems = getItems();
        return base.OnInitializedAsync();
    }

    private void change(Syncfusion.Blazor.DropDowns.ChangeEventArgs<string, DataModel> args)
    {
        mode = args.Value == "Vertical" ? Orientation.Vertical : Orientation.Horizontal;
    }

    private void checkboxChange(Syncfusion.Blazor.Buttons.ChangeEventArgs<bool> args)
    {
        this.menuItemClick = args.Checked;
    }

    private List<DataModel> headerData = new List<DataModel>()
    {
        new DataModel { Text = "Events" },
        new DataModel { Text = "Movies" },
        new DataModel { Text = "Directory" },
        new DataModel { Text = "Queries" },
        new DataModel { Text = "Services" }
    };

    private List<DataModel> dropDownListData = new List<DataModel>()
    {
        new DataModel { Text = "Horizontal" },
        new DataModel { Text = "Vertical" }
    };

    private void enableDisableChange(Syncfusion.Blazor.DropDowns.MultiSelectChangeEventArgs<string[]> args)
    {
        menuItems = getItems();
        if (args.Value != null)
        {
            for (int i = 0; i < args.Value.Length; i++)
            {
                DataModel? item = menuItems.Where(item => item.Text == args.Value[i]).FirstOrDefault();
                if (item != null)
                {
                    item.IsDisabled = true;

                }
            }
        }
    }

    private List<DataModel> getItems()
    {
        List<DataModel> menuItems = new List<DataModel>()
        {
            new DataModel { Text = "Events", IsDisabled = false, SubItems = new List<DataModel> {
                new DataModel { Text="Conferences" },
                new DataModel { Text="Music" },
                new DataModel { Text="Workshops" }
            } },
            new DataModel { Text = "Movies", IsDisabled = false, SubItems = new List<DataModel> {
                new DataModel { Text="Now Showing" },
                new DataModel { Text="Coming Soon" }
            } },
            new DataModel { Text = "Directory", IsDisabled = false, SubItems = new List<DataModel> {
                new DataModel { Text="Media Gallery" },
                new DataModel { Text="Newsletters" }
            } },
            new DataModel { Text = "Queries", IsDisabled = false, SubItems = new List<DataModel> {
                new DataModel { Text="Our Policy" },
                new DataModel { Text="Site Map" },
                new DataModel { Text="24x7 Support" }
            } },
            new DataModel { Text = "Services", IsDisabled = false }
        };
        return menuItems;
    }

    public class DataModel
    {
        public string? Text { get; set; }
        public List<DataModel>? SubItems { get; set; }
        public bool IsDisabled { get; set; }
    }
}

<style>
    .menu-control {
        margin: 45px auto 0;
        text-align: center;
    }
</style>