@page "/pager/default-functionalities"

@using Syncfusion.Blazor.Data
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Lists
@inject Microsoft.AspNetCore.Components.NavigationManager UriHelper
@*Hidden:Lines*@
@inherits SampleBaseComponent

 
@*End:Hidden*@
<SampleDescription>
    <p>This sample demonstrate the Pager component with minimal configuration.</p>
</SampleDescription>
<ActionDescription>
    <p>The Blazor Pager component has an option to splits the data set into sectioned pages and gives better experience to view them page by page through intuitive UI. Here, navigation can be done with built-in numeric elements and buttons that can also be customized with the help of rich APIs.</p>
     <p>The Blazor Pager acts intelligently and changes its complete UI responsively based on the dimension. It ensures that every pager element is keyboard accessible and has complete WAI-ARIA accessibility support.</p>
     <p>More information about the Getting Started with <code>Pager</code>.</p>
</ActionDescription>


<div class="col-lg-12 control-section sb-property-border">
    
    @{
         var listData = ListData.Skip(SkipValue).Take(TakeValue).ToList();
    <SfListView @ref="@List" DataSource="@listData" TValue="DataModel"  CssClass="e-list-template ui-list" HeaderTitle="Contacts" Height="355px" ShowHeader="true">
        <ListViewTemplates TValue="DataModel">
            <Template>
                <div class='e-list-wrapper e-list-avatar'>
                    @if (context.ImgSrc != string.Empty)
                    {
                            <img id='showUI' class='e-avatar e-avatar-circle' src="@UriHelper.ToAbsoluteUri($"{SampleService?.WebAssetsPath}images/list-view/{context.ImgSrc}.png")" alt="Profile Picture" />
                    }
                    <span class='e-list-content'>@context.Name</span>
                </div>
            </Template>
        </ListViewTemplates>
        <ListViewFieldSettings TValue="DataModel" Id="Id" Text="Name"></ListViewFieldSettings>
    </SfListView>
    }
    <div class="pager-container">
        <SfPager @ref="@Page" PageSize=5 NumericItemsCount=2 TotalItemsCount=25 ItemClick="HandleNumericClick">
            
        </SfPager>
    </div>
</div>
@code {
    SfPager? Page;
    public SfListView<DataModel>? List { get; set; }
    public int pageSize { get; set; } 
    public int SkipValue ;
    public int TakeValue = 5;
    List<DataModel> ListData = new List<DataModel>();


    protected override void OnInitialized()
    {
        base.OnInitialized();

        ListData.Add(new DataModel { Name = "Nancy, Berlin, France",  ImgSrc = "nancy" });
        ListData.Add(new DataModel { Name = "Andrew, Madrid, Germany", ImgSrc = "andrew" });
        ListData.Add(new DataModel { Name = "Janet, London, Brazil", ImgSrc = "janet" });
        ListData.Add(new DataModel { Name = "Margaret, Marseille, Belgium",  ImgSrc = "margaret" });
        ListData.Add(new DataModel { Name = "Steven, Cholchester, Switzerland", ImgSrc = "steven" });
        ListData.Add(new DataModel { Name = "Laura , Tsawassen, Venezuela",ImgSrc = "laura" });
        ListData.Add(new DataModel { Name = "Robert, Tacoma, Austria", ImgSrc = "robert" });
        ListData.Add(new DataModel { Name = "Michael, Redmond, Mexico", ImgSrc = "michael" });
        ListData.Add(new DataModel { Name = "Albert, Kirkland, USA", ImgSrc = "albert" });
        ListData.Add(new DataModel { Name = "Nolan, London, Sweden",ImgSrc = "nolan" });
        ListData.Add(new DataModel { Name = "Jennifer, Berlin, Finland", ImgSrc = "jennifer" });
        ListData.Add(new DataModel { Name = "Carter, Madrid, Italy", ImgSrc = "carter" });
        ListData.Add(new DataModel { Name = "Allison, Marseille, Spain", ImgSrc = "allison" });
        ListData.Add(new DataModel { Name = "John, Tsawassen, UK", ImgSrc = "john" });
        ListData.Add(new DataModel { Name = "Susan, Redmond, Ireland" ,ImgSrc = "susan" });
        ListData.Add(new DataModel { Name = "Lydia, Cholchester, Portugal", ImgSrc = "lydia" });
        ListData.Add(new DataModel { Name = "Kelsey, London, Canada", ImgSrc = "kelsey" });
        ListData.Add(new DataModel { Name = "Jessica, Kirkland, Denmark", ImgSrc = "jessica" });
        ListData.Add(new DataModel { Name = "Robert, Berlin, Austria", ImgSrc = "robert" });
        ListData.Add(new DataModel { Name = "Shelley, Tacoma, Poland", ImgSrc = "shelley" });
        ListData.Add(new DataModel { Name = "Vanjack, Tsawassen, Norway", ImgSrc = "vanjack" });
        ListData.Add(new DataModel { Name = "shelley, Cholchester, Argentina", ImgSrc = "shelley" });
        ListData.Add(new DataModel { Name = "Lydia, Kirkland, Finland", ImgSrc = "Lydia" });
        ListData.Add(new DataModel { Name = "Jessica, Madrid, Sweden", ImgSrc = "jessica" });
        ListData.Add(new DataModel { Name = "Nolan, London, UK", ImgSrc = "Nolan" });
        ListData.Add(new DataModel { Name = "Jennifer, Redmond, Italy", ImgSrc = "Jennifer" });
    }
    public void HandleNumericClick(PagerItemClickEventArgs args)
    {
        if (Page != null)
        {
            SkipValue = (args.CurrentPage * Page.PageSize) - Page.PageSize;
            TakeValue = Page.PageSize;
        }
    }

    public class DataModel
    {
        public string Name { get; set; } = string.Empty;
        public string ImgSrc { get; set; } = string.Empty;
        public string Id { get; set; } = string.Empty;
    }
}
<style>
    /* ListView template customization */
    .ui-list.e-listview {
        margin: auto;
        max-width: 460px;
        line-height: initial;
        border: 1px solid lightgray;
    }
    .ui-list.e-listview .e-list-header {
        height: 50px
    }
    .ui-list.e-listview .e-list-header .e-text {
        line-height: 18px;
        padding-left: 10px;
    }
    .ui-list.e-listview #showUI {
        display: flex;
    }
    .ui-list.e-listview .e-list-item {
        padding: 3px 0;
    }
    .highcontrast .ui-list.e-listview .e-list-item.e-active {
        background: #ffd939;
        color: #000000;
    }

    .pager-container {
        margin: 0 auto 2em;
        max-width: 460px;
    }
</style>
