@page "/kanban/remote-data"

@using Syncfusion.Blazor.Data
@using Syncfusion.Blazor.Kanban
@*Hidden:Lines*@
@inherits SampleBaseComponent;
@*End:Hidden*@

<ActionDescription>
<p>
    This sample demonstrates binding remote data to the Kanban component using the DataManager.
  </p>
  <p>
    Assign an instance of <code>DataManager</code> to the Kanban <code>DataSource</code> to enable remote data binding. The <a href="https://blazor.syncfusion.com/documentation/data/getting-started" aria-label="Blazor DataManager Getting Started documentation">DataManager</a> acts as an interface between the service endpoint and the Kanban component and requires the following minimal configuration:
  </p>
  <ul>
    <li><a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.DataManager.html#Syncfusion_Blazor_DataManager_Url" target="_blank" rel="noopener" aria-label="Class reference of Url property in DataManager">DataManager.Url</a> – Defines the endpoint to fetch data.</li>
    <li>
      <a href="https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.DataManager.html#Syncfusion_Blazor_DataManager_Adaptor" target="_blank" rel="noopener" aria-label="Class reference of Adaptor property in DataManager">DataManager.Adaptor</a> – Specifies the adaptor. By default, <code>ODataAdaptor</code> is used. The adaptor processes requests/responses. The <a href="https://www.nuget.org/packages/Syncfusion.Blazor.Data/" aria-label="Reference of Blazor Data NuGet Package">Syncfusion.Blazor.Data</a> package includes adaptors like:
      <ul>
        <li><code>UrlAdaptor</code> – Interact with generic remote services.</li>
        <li><code>ODataAdaptor</code> – For OData endpoints.</li>
        <li><code>ODataV4Adaptor</code> – For OData V4 endpoints.</li>
        <li><code>WebApiAdaptor</code> – For Web API endpoints under OData standards.</li>
        <li><code>WebMethodAdaptor</code> – For web methods.</li>
      </ul>
    </li>
  </ul>
  <p>
    In this demo, remote data is bound by assigning service data through <code>SfDataManager</code> to the <code>DataSource</code> property.
  </p>
</ActionDescription>


<div class="col-lg-12 control-section">
    <SfKanban TValue="KanbanDataModel" KeyField="Status" AllowDragAndDrop="false">
        <SfDataManager Url="https://blazor.syncfusion.com/services/production/api/Kanban" Adaptor="@Syncfusion.Blazor.Adaptors.WebApiAdaptor" CrossDomain="true"/>
        <KanbanColumns>
            @foreach (ColumnModel item in ColumnData)
            {
                <KanbanColumn HeaderText="@item.HeaderText" KeyField="@item.KeyField"/>
            }
        </KanbanColumns>
        <KanbanCardSettings HeaderField="Id" ContentField="Summary"/>
        <KanbanEvents TValue="KanbanDataModel" DialogOpen="@((args)=> { args.Cancel = true; })"/>
    </SfKanban>
</div>

@code{
    
    private List<ColumnModel> ColumnData = new List<ColumnModel>() 
    {
        new ColumnModel(){ HeaderText= "To Do", KeyField= new List<string>() { "Open" } },
        new ColumnModel(){ HeaderText= "In Progress", KeyField= new List<string>() { "InProgress" } },
        new ColumnModel(){ HeaderText= "Testing", KeyField= new List<string>() { "Testing" } },
        new ColumnModel(){ HeaderText= "Done", KeyField=new List<string>() { "Close" } }
    };

    public class KanbanDataModel
    {
        public int Id { get; set; }
        public string? Status { get; set; }
        public string? Summary { get; set; }
        public string? Type { get; set; }
        public string? Priority { get; set; }
        public string? Tags { get; set; }
        public double Estimate { get; set; }
        public string? Assignee { get; set; }
        public string? ImgUrl { get; set; }
        public int RankId { get; set; }
    }
}
