@page "/datagrid/inline-editing"

@using Syncfusion.Blazor.Grids
@using Syncfusion.Blazor.DropDowns
@*Hidden:Lines*@
@using BlazorDemos
@using blazor_ordersdata
@inherits SampleBaseComponent
@inject NavigationManager NavigationManager


@*End:Hidden*@

<ActionDescription>
<p>This sample demonstrates how to use inline editing mode in the DataGrid to perform CRUD operations directly within grid rows.</p>
  
  <p>The Blazor DataGrid inline editing feature enables you to edit the currently selected record by changing its state to edit mode. You can perform the following CRUD operations:</p>
  <ul>
    <li><strong>Edit</strong> - Double-click a row or click the Edit toolbar button after selecting a row</li>
    <li><strong>Delete</strong> - Click the Delete toolbar button after selecting a row</li>
    <li><strong>Update</strong> - Click the Update toolbar button to save changes</li>
    <li><strong>Cancel</strong> - Click the Cancel toolbar button to discard changes</li>
  </ul>
  
  <p>Configure CRUD operations using the <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridEditSettings.html' aria-label="Navigate to the class reference for GridEditSettings">GridEditSettings</a> component. Define at least one column as a primary key using the <code>GridColumn</code> component's <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridColumn.html#Syncfusion_Blazor_Grids_GridColumn_IsPrimaryKey' aria-label="Navigate to the IsPrimaryKey property reference for Grid column">IsPrimaryKey</a> property.</p>
  
  <p>The available edit modes are:</p>
  <ul>
    <li><strong>Dialog</strong> - Edit in a modal dialog</li>
    <li><strong>Batch</strong> - Edit multiple records with batch save</li>
  </ul>
  
  <p>In this demo, the <a target='_blank' href='https://help.syncfusion.com/cr/aspnetcore-blazor/Syncfusion.Blazor~Syncfusion.Blazor.Grids.GridEditSettings.html'>GridEditSettings</a> includes the <strong>ShowAddNewRow</strong> property, which displays a new blank row within the grid for convenient record addition.</p>
  
  <p>By default, new rows are added at the top. Change this by setting the <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridEditSettings.html#Syncfusion_Blazor_Grids_GridEditSettings_NewRowPosition' aria-label="Navigate to the NewRowPosition property reference for GridEditSettings">NewRowPosition</a> to <strong>Bottom</strong>.</p>
  
  <p>For more detailed information about inline editing, refer to the <a target='_blank' href='https://blazor.syncfusion.com/documentation/datagrid/in-line-editing' aria-label="Navigate to the documentation for in-line editing in DataGrid component">inline editing documentation</a>.</p>
</ActionDescription>


<div class="col-lg-12 control-section">
    <div class="content-wrapper">
        <div class="row">
            <SfGrid DataSource="@GridData" Toolbar="@(new List<string>() { "Edit", "Delete", "Update", "Cancel" })" AllowPaging="true">
                <GridEditSettings AllowAdding="true" AllowDeleting="true" AllowEditing="true" ShowAddNewRow="true"></GridEditSettings>
                <GridColumns>
                    <GridColumn Field=@nameof(Orders.OrderID) HeaderText="Order ID" IsPrimaryKey="true" ValidationRules="@(new ValidationRules{ Required=true, Number=true})" TextAlign="TextAlign.Right" Width="140"></GridColumn>
                    <GridColumn Field=@nameof(Orders.CustomerID) HeaderText="Customer ID" ValidationRules="@(new ValidationRules{ Required=true})" Width="160">
                        <EditTemplate>
                            <SfAutoComplete TItem="Customer" TValue="string" ID="CustomerID" @bind-Value="@((context as Orders)!.CustomerID)" DataSource="@CustomerData">
                                <AutoCompleteFieldSettings Value="CustomerID"></AutoCompleteFieldSettings>
                            </SfAutoComplete>
                        </EditTemplate>
                    </GridColumn>
                    <GridColumn Field=@nameof(Orders.OrderDate) HeaderText="Order Date" Format="d" Type="ColumnType.DateOnly" TextAlign="TextAlign.Right" Width="140"></GridColumn>
                    <GridColumn Field=@nameof(Orders.Freight) ValidationRules="@(new ValidationRules{ Required=true, Range = new object[]{1, 1000}})" EditType="EditType.NumericEdit" Format="C2" TextAlign="TextAlign.Right" Width="145"></GridColumn>
                    <GridColumn Field=@nameof(Orders.OrderTime) HeaderText="Order Time" Type="ColumnType.TimeOnly" TextAlign="TextAlign.Right" Width="140"></GridColumn>
                    <GridColumn Field=@nameof(Orders.ShipCountry) HeaderText="Ship Country" EditType="EditType.DropDownEdit" Width="160"></GridColumn>
                </GridColumns>
            </SfGrid>

        </div>
    </div>
</div>

@code{

    public List<Orders>? GridData { get; set; }
    

    protected override void OnInitialized()
    {
        
        GridData = Orders.GetAllRecords();
    }
    public class Customer
    {
        public string? CustomerID { get; set; }
    }
    List<Customer> CustomerData = new List<Customer>
    {
        new Customer() { CustomerID= "ALFKI" },
        new Customer() { CustomerID= "ANATR"},
        new Customer() { CustomerID= "ANTON"},
        new Customer() { CustomerID= "BLONP" },
        new Customer() { CustomerID= "BOLID"},
    };
}