@page "/datagrid/row-drag-and-drop"

@using Syncfusion.Blazor.Grids
@*Hidden:Lines*@
@using BlazorDemos
@using blazor_orderdetail
@inherits SampleBaseComponent
@inject NavigationManager NavigationManager


@*End:Hidden*@

<ActionDescription>
<p>This sample demonstrates the DataGrid row drag and drop functionality for moving rows between multiple DataGrids.</p>
  
  <p>The Blazor DataGrid supports row drag and drop operations across different grids. Enable this feature by setting the <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.SfGrid-1.html#Syncfusion_Blazor_Grids_SfGrid_1_AllowRowDragAndDrop' aria-label="Navigate to the AllowRowDragAndDrop property reference for DataGrid component">AllowRowDragAndDrop</a> property to <strong>true</strong>.</p>
  
  <p>Configure the drop target using the <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridRowDropSettings.html#Syncfusion_Blazor_Grids_GridRowDropSettings_TargetID' aria-label="Navigate to the TargetID property reference for GridRowDropSettings">TargetID</a> property of the <a target='_blank' href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridRowDropSettings.html' aria-label="Navigate to the class reference for GridRowDropSettings">GridRowDropSettings</a> component to specify which grid will receive the dropped rows.</p>
  
  <p>By default, the <a target="_blank" rel="noopener" href='https://help.syncfusion.com/cr/blazor/Syncfusion.Blazor.Grids.GridRowDropSettings.html#Syncfusion_Blazor_Grids_GridRowDropSettings_AllowEmptyAreaDrop' aria-label="Navigate to the AllowEmptyAreaDrop API reference for DataGrid component">AllowEmptyAreaDrop</a> property is enabled, allowing users to drop records into empty areas of the target grid, enhancing usability.</p>
  
  <p>In this demo:</p>
  <ul>
    <li>Selection is enabled for row selection</li>
    <li>Multiple rows can be selected by clicking and dragging</li>
    <li>Rows can be dragged between DataGrids or within the same grid</li>
    <li>The drag icon on the left side of the grid column facilitates row selection and dragging</li>
    <li>Drop rows into the target grid to complete the transfer</li>
  </ul>
  
  <p>For more detailed information about row drag and drop, refer to the <a target='_blank' href='https://blazor.syncfusion.com/documentation/datagrid/row-drag-and-drop' aria-label="Navigate to the documentation for Row drag and drop in DataGrid component">row drag and drop documentation</a>.</p>
</ActionDescription>


<div class="col-lg-6 control-section">
    <div class="content-wrapper">
        <div class="row">
            <SfGrid id="Grid" DataSource="@GridData" AllowRowDragAndDrop="true" AllowSelection="true" AllowPaging="true">
                <GridSelectionSettings Type="Syncfusion.Blazor.Grids.SelectionType.Multiple"></GridSelectionSettings>
                <GridPageSettings PageCount="1" PageSize="12"></GridPageSettings>
                <GridRowDropSettings TargetID="DestGrid"></GridRowDropSettings>
                <GridColumns>
                    <GridColumn Field=@nameof(OrderDetail.OrderID) HeaderText="Order ID" IsPrimaryKey="true" TextAlign="TextAlign.Right"  Width="120"></GridColumn>
                    <GridColumn Field=@nameof(OrderDetail.CustomerID) HeaderText="Customer ID" Width="135"></GridColumn>
                    <GridColumn Field=@nameof(OrderDetail.OrderDate) HeaderText="Order Date" Format="d" TextAlign="TextAlign.Right"  Width="130"></GridColumn>
                </GridColumns>
            </SfGrid>
        </div>
    </div>
</div>

<div class="col-lg-1 control-section">
    <div class="content-wrapper">
        <div class="row">
        </div>
    </div>
</div>
<div class="col-lg-5 control-section">
    <div class="content-wrapper">
        <div class="row">
            <SfGrid id="DestGrid" DataSource="@SecondGrid" AllowRowDragAndDrop="true" AllowSelection="true" AllowPaging="true" Height="350">
                <GridSelectionSettings Type="Syncfusion.Blazor.Grids.SelectionType.Multiple"></GridSelectionSettings>
                <GridPageSettings PageCount="1" PageSize="12"></GridPageSettings>
                <GridRowDropSettings TargetID="Grid"></GridRowDropSettings>
                <GridColumns>
                    <GridColumn Field=@nameof(OrderDetail.OrderID) HeaderText="Order ID" IsPrimaryKey="true" TextAlign="TextAlign.Right" Width="120"></GridColumn>
                    <GridColumn Field=@nameof(OrderDetail.CustomerID) HeaderText="Customer ID" Width="135"></GridColumn>
                    <GridColumn Field=@nameof(OrderDetail.OrderDate) HeaderText="Order Date" Format="d" TextAlign="TextAlign.Right" Width="130"></GridColumn>
                </GridColumns>
            </SfGrid>
        </div>
    </div>
</div>

@code{

    public List<OrderDetail>? GridData { get; set; }

    public List<OrderDetail> SecondGrid { get; set; }  = new List<OrderDetail>();


    protected override void OnInitialized()
    {
        GridData = OrderDetail.GetAllRecords();
    }
}

 @*Hidden:Lines*@
<style>
    .material3 .e-rowdragdrop,
    .material3-dark .e-rowdragdrop,
    .material3 .e-rowdragdrop, .material-dark .e-rowdragdrop, .bootstrap4 .e-rowdragdrop, .fluent2 .e-rowdragdrop, .fluent2-dark .e-rowdragdrop{
        border-top-style: solid !important;
    }
</style>
  @*End:Hidden*@