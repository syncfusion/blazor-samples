@page "/Maps/Projection"

@using Syncfusion.EJ2.Blazor.Maps
@using Syncfusion.EJ2.Blazor.DropDowns

@*Hidden:Lines*@
@using ej2_blazor_samples
@{
    SampleBrowser.CurrentSampleName = "Projection";
    SampleBrowser.CurrentControlName = "Maps";
    SampleBrowser.CurrentControlCategory = "Maps";
    SampleBrowser.CurrentControl = SampleBrowser.Config.Maps;
    SampleBrowser.ActionDescription = new string[] {
        @"<p>
        In this example, you can see how to render a map with various projections. You can use the ColorMapping property to customize the color of the shapes.
    </p>"
    };
    SampleBrowser.Description = new string[] {
        @"<p>
        In this example, you can see how to render a map with various projections. You can use the <code>ColorMapping</code> property to customize the color of the shapes.
        </p>
        <p>
        Tooltip is enabled in this example. To see the tooltip in action, hover the mouse over a shape or tap a shape in touch enabled devices.
    </p>"
    };
}
@*End:Hidden*@

<div class="col-lg-9 control-section sb-property-border">
    <div class="control-section">
        <EjsMaps ProjectionType="@ProjectionTypeValue">
            <MapsTitleSettings Text="Members of the UN Security Council">
                <MapsTitleTextStyle Size="16px"></MapsTitleTextStyle>
                <MapsSubtitleSettings Text="- In 2017" Alignment="Syncfusion.EJ2.Blazor.Maps.Alignment.Far"></MapsSubtitleSettings>
            </MapsTitleSettings>
            <MapsLegendSettings Visible="true"></MapsLegendSettings>
            <MapsZoomSettings Enable="false"></MapsZoomSettings>
            <MapsLayers>
                <MapsLayer ShapeData='new {dataOptions= "https://cdn.syncfusion.com/maps/map-data/world-map.json"}' ShapeDataPath="Country" ShapePropertyPath='@("name")' DataSource="@ProjectionData">
                    <MapsLayerTooltipSettings Visible="true" ValuePath="Country"></MapsLayerTooltipSettings>
                    <MapsShapeSettings Fill="#E5E5E5" ColorValuePath="Membership">
                        <MapsShapeColorMappings>
                            <MapsShapeColorMapping Value="Permanent" Color='@("#EDB46F")'></MapsShapeColorMapping>
                            <MapsShapeColorMapping Value="Non-Permanent" Color='@("#F1931B")'></MapsShapeColorMapping>
                        </MapsShapeColorMappings>
                    </MapsShapeSettings>
                </MapsLayer>
            </MapsLayers>
        </EjsMaps>
        <div style="float: right; margin-right: 10px;">
            Source:
            <a href="https://en.wikipedia.org/wiki/List_of_members_of_the_United_Nations_Security_Council" target="_blank">en.wikipedia.org</a>
        </div>
    </div>
</div>
<div class="col-lg-3 property-section">
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
    <div class="property-panel-section">
        <div class="property-panel-header">Properties</div>
        <div class="property-panel-content">
            <table id="property" style="width:100%" title="Properties">
                <tbody>
                    <tr style="height: 50%">
                        <td style="width: 60%" class="property-text">
                            Projection Type
                        </td>
                        <td style="width: 40%">
                            <EjsDropDownList Placeholder="Select projection type" DataSource="@ProjectionTypeList" Value="@ProjectionValue">
                                <DropDownListEvents TValue="string" ValueChange="projectionList"></DropDownListEvents>
                                <DropDownListFieldSettings text="Name" value="Value"></DropDownListFieldSettings>
                            </EjsDropDownList>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .control-section {
        min-height: 450px;
    }

    .property-text {
        font-family: "Roboto", "Segoe UI", "GeezaPro", "DejaVu Serif", "sans-serif" !important;
        font-size: 13px !important;
        font-weight: 400 !important;
    }

    #radius > * {
        padding: 0px !important;
    }

    label {
        height: 32px !important;
    }
</style>

@code {
    public string ProjectionValue = "Mercator";
    public ProjectionType ProjectionTypeValue = ProjectionType.Mercator;
    public MapDataSettings ProjectionData = new MapDataSettings
    {
        async = true,
        dataOptions = "scripts/MapsData/projection-datasource.json",
        type = "GET"
    };
    public class MapDataSettings
    {
        public Boolean async { get; set; }
        public String dataOptions { get; set; }
        public String type { get; set; }
    };
    public class ProjectionTypeString
    {
        public string Value { get; set; }
        public string Name { get; set; }
    };
    public List<ProjectionTypeString> ProjectionTypeList = new List<ProjectionTypeString> {
        new ProjectionTypeString { Value="mercator", Name="Mercator" },
        new ProjectionTypeString { Value="Equirectangular", Name="Equirectangular" },
        new ProjectionTypeString { Value="Miller", Name="Miller" },
        new ProjectionTypeString { Value="Eckert3", Name="Eckert3" },
        new ProjectionTypeString { Value="Eckert5", Name="Eckert5" },
        new ProjectionTypeString { Value="Eckert6", Name="Eckert6" },
        new ProjectionTypeString { Value="Winkel3", Name="Winkel3" },
        new ProjectionTypeString { Value="AitOff", Name="AitOff" }
    };
    private void projectionList(Syncfusion.EJ2.Blazor.DropDowns.ChangeEventArgs<string> args)
    {
        ProjectionValue = (args.Value).ToString();
        if (ProjectionValue == "Equirectangular")
        {
            ProjectionTypeValue = ProjectionType.Equirectangular;
        }
        else if (ProjectionValue == "Miller")
        {
            ProjectionTypeValue = ProjectionType.Miller;
        }
        else if (ProjectionValue == "Eckert3")
        {
            ProjectionTypeValue = ProjectionType.Eckert3;
        }
        else if (ProjectionValue == "Eckert5")
        {
            ProjectionTypeValue = ProjectionType.Eckert5;
        }
        else if (ProjectionValue == "Eckert6")
        {
            ProjectionTypeValue = ProjectionType.Eckert6;
        }
        else if (ProjectionValue == "Winkel3")
        {
            ProjectionTypeValue = ProjectionType.Winkel3;
        }
        else if (ProjectionValue == "AitOff")
        {
            ProjectionTypeValue = ProjectionType.AitOff;
        }
        else
        {
            ProjectionTypeValue = ProjectionType.Mercator;
        }
    }
}