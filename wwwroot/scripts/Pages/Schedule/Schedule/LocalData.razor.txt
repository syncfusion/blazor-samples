@page "/Schedule/LocalData"

@using Syncfusion.EJ2.Blazor.Schedule
@using Syncfusion.EJ2.Blazor

@*Hidden:Lines*@
@using ej2_blazor_samples
@{
    SampleBrowser.CurrentSampleName = "Local Data";
    SampleBrowser.CurrentControlName = "Scheduler";
    SampleBrowser.CurrentControlCategory = "Scheduler";
    SampleBrowser.CurrentControl = SampleBrowser.Config.Schedule;
    SampleBrowser.ActionDescription = new string[] {
        @"<p>
            This demo shows the way of binding an array of JavaScript objects (local JSON datasource) to Scheduler.
        </p>"
    };
    SampleBrowser.Description = new string[] {
        @"<p>Scheduler can be bound either to local or remote data services which will load the data by default on demand to reduce the
            data transfer and load time. In this sample, the
            <code>DataSource</code> property available within the
            <code>EventSettings</code> needs to be assigned with the valid local JSON data.
        </p>"
    };
}
@*End:Hidden*@

<div class="col-lg-12 control-section">
    <div class="schedule-wrapper">
        <EjsSchedule TValue="AppointmentData" Width="100%" Height="650px" SelectedDate="@(new DateTime(2019, 1, 10))">
            <ScheduleEventSettings DataSource="@DataSource"></ScheduleEventSettings>
        </EjsSchedule>
    </div>
</div>

@code{
    EjsSchedule<AppointmentData> ScheduleObj;
    public List<AppointmentData> DataSource = GetScheduleData();
    public class AppointmentData
    {
        public int Id { get; set; }
        public string Subject { get; set; }
        public string Location { get; set; }
        public DateTime StartTime { get; set; }
        public DateTime EndTime { get; set; }
        public string CategoryColor { get; set; }
        public Nullable<bool> IsAllDay { get; set; }
        public string RecurrenceRule { get; set; }
        public Nullable<int> RecurrenceID { get; set; }
        public string RecurrenceException { get; set; }
    }
    static public List<AppointmentData> GetScheduleData()
    {
        List<AppointmentData> appData = new List<AppointmentData>();
        appData.Add(new AppointmentData
        {
            Id = 1,
            Subject = "Explosion of Betelgeuse Star",
            Location = "Space Centre USA",
            StartTime = new DateTime(2019, 1, 6, 9, 30, 0),
            EndTime = new DateTime(2019, 1, 6, 11, 0, 0),
            CategoryColor = "#1aaa55"
        });
        appData.Add(new AppointmentData
        {
            Id = 2,
            Subject = "Thule Air Crash Report",
            Location = "Newyork City",
            StartTime = new DateTime(2019, 1, 7, 12, 0, 0),
            EndTime = new DateTime(2019, 1, 7, 14, 0, 0),
            CategoryColor = "#357cd2"
        });
        appData.Add(new AppointmentData
        {
            Id = 3,
            Subject = "Blue Moon Eclipse",
            Location = "Space Centre USA",
            StartTime = new DateTime(2019, 1, 8, 9, 30, 0),
            EndTime = new DateTime(2019, 1, 8, 11, 0, 0),
            CategoryColor = "#7fa900"
        });
        appData.Add(new AppointmentData
        {
            Id = 4,
            Subject = "Meteor Showers in 2018",
            Location = "Space Centre USA",
            StartTime = new DateTime(2019, 1, 9, 13, 0, 0),
            EndTime = new DateTime(2019, 1, 9, 14, 30, 0),
            CategoryColor = "#ea7a57"
        });
        appData.Add(new AppointmentData
        {
            Id = 5,
            Subject = "Milky Way as Melting pot",
            Location = "Space Centre USA",
            StartTime = new DateTime(2019, 1, 10, 12, 0, 0),
            EndTime = new DateTime(2019, 1, 10, 14, 0, 0),
            CategoryColor = "#00bdae"
        });
        return appData;
    }
}